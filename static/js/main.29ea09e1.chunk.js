(this.webpackJsonptables=this.webpackJsonptables||[]).push([[0],{346:function(e,t,n){e.exports=n(652)},351:function(e,t,n){},652:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(19),l=n.n(c),u=(n(351),n(74)),i=n(16),o=n(49),m=n(169),s=n.n(m),f="https://s3-us-west-2.amazonaws.com/tecton.ai.public/coding_exercise_1/tables.json",v=n(279),b=n(46),d=function(e,t,n,a,r){for(var c=Math.max(7,Math.ceil(Math.sqrt(e))),l=(t-n)/c,u=new Array(c+1).fill(0),i=0;i<e;i++){var o=a[i][r];if(Object(b.isNumber)(o)){var m=Math.ceil(Math.abs((o-n)/l));u[m]=u[m]+1}}return{step:l,buckets:u,min:n,max:t}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return+e.toFixed(t)},E=function(e){return e[0].map((function(t,n){return function(e,t){for(var n=0,a=0,r=0,c=0,l=0,u=e.length,i=!1,o=0;o<u;o++){var m=e[o][t];Object(b.isNil)(m)&&(console.log(e,o,t,e[o]),n++),Object(b.isNumber)(m)&&(i=!0,a=Math.min(a,m),r=Math.max(r,m),c+=m,l+=m*m)}var s=c/u,f=h(Math.sqrt(l/u-s*s),4);return{nullCount:n,min:a,max:r,mean:h(s,4),stdDev:f,histogram:d(u,r,a,e,t),numeric:i}}(e,n)}))},p=function(e,t){var n=e.split(t);return n.pop(),n},x=function(e){return isNaN(e)?e:+e},g=new s.a(50),O=new s.a(50),j=function(){return fetch(f).then((function(e){return e.json()})).then((function(e){return e.forEach((function(e){return g.set(e.name,e)})),e}))},w=function(e){var t=O.get(e);return t?Promise.resolve(t):fetch(e).then((function(e){return e.text()})).then((function(e){return function(e){var t=p(e,"\n").map((function(e){return p(e,",").map(x)})),n=Object(v.a)(t),a=n[0],r=n.slice(1);return{columns:a.map(String),values:r.slice(0,r.length-1),stats:E(r)}}(e)})).then((function(t){return O.set(e,t),t}))},N={fetchTables:j,fetchTableContents:function(e){var t=g.get(e);return t?w(t.url):j().then((function(t){var n=t.find((function(t){return t.name===e}));return n?w(n.url):null}))}},C=n(29),M=n(2),S=n(30);function k(){var e=Object(C.a)(["\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  position: absolute;\n"]);return k=function(){return e},e}var y=S.a.div(k()),I=function(e){var t=Object(i.f)(),n=[{onClick:e.title?function(){return t.push("/")}:void 0,text:"Index"}];return e.title&&n.push({text:e.title}),r.a.createElement(y,null,r.a.createElement(M.Navbar,null,r.a.createElement(M.NavbarGroup,null,r.a.createElement(M.NavbarHeading,null,"Table Viewer"),r.a.createElement(M.NavbarDivider,null),r.a.createElement(M.Breadcrumbs,{items:n}))),e.children)};function T(){var e=Object(C.a)(["\n  margin: 16px;\n  max-width: 800px;\n  min-width: 400px;\n"]);return T=function(){return e},e}function D(){var e=Object(C.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return D=function(){return e},e}var R=S.a.div(D()),B=Object(S.a)(M.Card)(T()),_=function(e){return r.a.createElement(R,null,e.tables.map((function(t){return r.a.createElement(B,{key:t.url,interactive:!0,elevation:0,onClick:function(){return e.viewTable(t)}},r.a.createElement(M.H5,null,r.a.createElement(u.b,{to:"/".concat(t.name)},t.name)),r.a.createElement("p",null,"Row count: ",t.row_count))})))},A=function(){var e=Object(i.f)(),t=r.a.useState([]),n=Object(o.a)(t,2),a=n[0],c=n[1];r.a.useEffect((function(){N.fetchTables().then(c).catch((function(){return e.push("/error")}))}),[e]);return r.a.createElement(I,null,r.a.createElement(_,{tables:a,viewTable:function(t){e.push("/table/".concat(t.name))}}))},H=function(e){return r.a.createElement(M.NonIdealState,{icon:"search",title:"Invalid table ".concat(e.tableName),action:r.a.createElement(u.b,{to:"/"},"Go Back")})},q=n(658),z=n(87),F=n(85),G=n(278),J=n(131);function P(){var e=Object(C.a)(["\n  background-color: white;\n  padding: 2px 4px;\n  border: 1px solid blue;\n  border-radius: 4px;\n  max-width: 120px;\n  line-height: initial;\n"]);return P=function(){return e},e}var K=S.a.div(P()),L=function(e){var t=e.histogram,n=t.buckets.map((function(e,n){return{value:e,min:Object(b.round)(t.min+t.step*n),max:Object(b.round)(t.min+t.step*(n+1))}})),a=function(e){var t=e.active,n=e.payload;e.label;if(!t)return r.a.createElement("div",null);var a=n[0].payload,c=a.min,l=a.max,u=a.value;return r.a.createElement(K,null,c," to ",l," Count: ",u)};return r.a.createElement(J.b,{width:150,height:80,data:n},r.a.createElement(J.a,{dataKey:"value",fill:"#8884d8"}),r.a.createElement(J.c,{content:r.a.createElement(a,null)}))};function V(){var e=Object(C.a)(["\n  padding: 1px 6px;\n"]);return V=function(){return e},e}function Q(){var e=Object(C.a)(["\n  font-size: 11px;\n  overflow: hidden;\n  width: 100%;\n  white-space: nowrap;\n"]);return Q=function(){return e},e}var U=S.a.div(Q()),W=S.a.div(V()),X=function(e){var t=e.stats,n=r.a.createElement("div",null,r.a.createElement(U,null,"Null Count: ",t.nullCount),r.a.createElement(U,null,"Min: ",t.min),r.a.createElement(U,null,"Max: ",t.max),r.a.createElement(U,null,"Mean: ",t.mean),r.a.createElement(U,null,"StdDev: ",t.stdDev));return r.a.createElement(W,null,r.a.createElement(M.Tooltip,{className:M.Classes.TOOLTIP_INDICATOR,content:n},"Statistics"))};function Y(){var e=Object(C.a)(["\n  flex-grow: 1;\n"]);return Y=function(){return e},e}function Z(){var e=Object(C.a)(["\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n"]);return Z=function(){return e},e}var $=S.a.div(Z()),ee=Object(S.a)(q.a)(Y()),te=function(e){var t=e.table,n=e.table,a=n.columns,c=n.stats,l=r.a.useState(null),u=Object(o.a)(l,2),i=u[0],m=u[1],s=r.a.useState([[]]),f=Object(o.a)(s,2),v=f[0],d=f[1];r.a.useEffect((function(){if(i){var e=Object(b.orderBy)(t.values,[function(e){return e[i.colIdx]}],[i.dir]);console.log(e),d(e)}else d(t.values)}),[t.values,i]);var h=r.a.useCallback((function(e,t){return r.a.createElement(z.a,null,v[e][t])}),[v]),E=function(e){var t=function(t){e&&m({colIdx:e,dir:t})};return r.a.createElement(M.Menu,null,r.a.createElement(M.MenuItem,{icon:"sort-asc",onClick:function(){return t("asc")},text:"Sort Asc"}),r.a.createElement(M.MenuItem,{icon:"sort-desc",onClick:function(){return t("desc")},text:"Sort Desc"}))},p=function(e){var t=c[e],n=t.histogram;return r.a.createElement(F.a,{name:a[e],menuRenderer:E},t.numeric?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{histogram:n}),r.a.createElement(X,{stats:t})):null)};return r.a.createElement($,null,r.a.createElement(ee,{numRows:v.length},a.map((function(e,t){return r.a.createElement(G.a,{key:t,cellRenderer:h,columnHeaderCellRenderer:p})}))))},ne=function(){var e=Object(i.g)().tableName,t=Object(i.f)(),n=r.a.useState(null),a=Object(o.a)(n,2),c=a[0],l=a[1],u=r.a.useState(!1),m=Object(o.a)(u,2),s=m[0],f=m[1],v=r.a.useState(!0),b=Object(o.a)(v,2),d=b[0],h=b[1];return r.a.useEffect((function(){f(!1),h(!0),N.fetchTableContents(e).then((function(e){e?l(e):f(!0),h(!1)})).catch((function(){return t.push("/error")}))}),[e,t]),r.a.createElement(I,{title:e},d?r.a.createElement(M.Spinner,null):s||!c?r.a.createElement(H,{tableName:e}):r.a.createElement(te,{table:c}))};var ae=function(){return r.a.createElement(u.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0},r.a.createElement(A,null)),r.a.createElement(i.a,{path:"/error",exact:!0},r.a.createElement(M.Callout,{intent:"danger"},"Server error, try again later.")),r.a.createElement(i.a,{path:"/table/:tableName",exact:!0},r.a.createElement(ne,null))))};n(649),n(650),n(651);l.a.render(r.a.createElement(ae,null),document.getElementById("root"))}},[[346,1,2]]]);
//# sourceMappingURL=main.29ea09e1.chunk.js.map